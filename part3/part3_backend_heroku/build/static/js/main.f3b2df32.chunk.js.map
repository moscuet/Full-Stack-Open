{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","service/module.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","del","personsList","map","person","i","key","name","number","onClick","id","PersonForm","props","submitHandle","changeNameHandle","changeNumberHandle","newName","newNumber","onSubmit","onChange","value","type","Filter","searchHandle","baseUrl","axios","get","then","response","data","newObject","post","url","delete","res","status","Notification","message","color","style","padding","border","className","App","useState","setPersons","setNewName","setNewNumber","search","setSearch","setMessage","setColor","useEffect","module","updateNotification","setTimeout","updatePersons","margin","height","e","filteredArr","filter","a","toUpperCase","includes","target","preventDefault","error","p","window","confirm","updatedPersons","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f3b2df32.chunk.js","sourcesContent":["import React from 'react'\nconst Persons = ({persons,del}) =>{\n    const personsList = persons.map( (person,i) =><li key = {`${i}-${person.name}`}>{person.name} {person.number} <button key={`btn-${i}`} onClick= {()=> del(person.id)}>delet</button></li>)\n     return(\n      <ul>{personsList}</ul>\n     )\n   }\nexport default Persons","import React from 'react'\n const PersonForm= (props) =>{\n     let {submitHandle,changeNameHandle,changeNumberHandle ,newName ,newNumber }=props\n    return (\n        <form onSubmit={submitHandle}>\n        <div>\n          name: <input onChange = {changeNameHandle} value={newName}/>\n        </div>\n        <div>\n          number: <input onChange={changeNumberHandle} value= {newNumber} type = 'number'  />\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Filter =({searchHandle})=> {\n    return (\n    <div> Filter shown with <input  onChange = {searchHandle}/></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\nconst remove = (id) =>{\n  const url = `${baseUrl}/${id}`\n     return axios.delete(url).then(res=>res.status)\n}\nconst add = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => {\n    return response.data\n  })\n}\nconst update = (id,newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\nreturn request.then(response => {\n    return response.data\n  })\n}\nexport default { \n  getAll, \n  add, \n  update,\n  remove\n}\n","import React from 'react'\nconst Notification = ({ message,color }) => {\n    const style = {\n        padding:'0px',\n        border: `3px solid ${color}`,\n        color:`${color}`\n    }\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"error\" style ={style} >\n        <h2>{message}</h2>\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport module from './service/module'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n//state\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState([])\n  const [message, setMessage]= useState(null)\n  const [color, setColor]= useState(null)\n\n  useEffect(() => {\n    module.getAll()\n      .then(response => {\n        setPersons(response)\n        setSearch(response)\n      })\n  }, [])\n  let updateNotification = (message,color) =>{\n    setMessage(message)\n    setColor(color)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000);\n  }\n\n\n  let updatePersons = (persons)=>{\n    setPersons(persons)\n    setSearch(persons)  \n  }\n let reset=() =>{\n  setNewName('')\n  setNewNumber('')\n }\n  \n const del = (id) =>{\n  let target = persons.filter(p=>p.id===id)[0].name\n   module.remove(id).then (res=>{\n    let result = window.confirm(`delete contact ${target}?`)\n    if (result){\n      let updatedPersons = persons.filter( person => person.id!==id)\n      updatePersons(updatedPersons )\n      updateNotification(`Contact ${target} has been removed`,'green')  \n     }\n    }).catch( error=>{\n      updateNotification(`Contact ${target} has already been removed from server`,'red')\n    })\n  }\n  \n  const changeNameHandle = (e) =>{\n    setNewName(e.target.value)\n  }\n  const changeNumberHandle = (e) =>setNewNumber(e.target.value)\n  const searchHandle = (e) =>{\n    let filteredArr = persons.filter( a => a.name.toUpperCase().includes(e.target.value.toUpperCase()))\n    setSearch(filteredArr)\n  }\n  const submitHandle = (e) => {\n    e.preventDefault()\n    let newObject ={name:newName,number:newNumber}\n    module.add(newObject).then( res=>{\n      if(res.error) updateNotification(`${res.error}`,'red')\n      else {\n        updatePersons(res)\n        updateNotification(`${newObject.name} added to the phonebook`,'green')\n        reset()\n      }\n    })\n  }\n\n\n  return (\n    <div style={{margin:'20px'}}>\n      <div style = {{height:'120px'}}>\n        <h3 >Phonebook </h3>\n        <Notification message={message} color={color}/>\n      </div>\n     \n      <Filter searchHandle = {searchHandle}/>\n      <h3>Add a new</h3>\n      <PersonForm submitHandle ={submitHandle} changeNameHandle= {changeNameHandle} changeNumberHandle = {changeNumberHandle} newName ={newName} newNumber = {newNumber} />\n      <h2>Numbers</h2>\n       <Persons persons={search} del ={del} />\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}