{"version":3,"sources":["components/Persons.js","components/PersonForm.js","components/Filter.js","service/module.js","components/Notification.js","App.js","index.js"],"names":["Persons","persons","del","personsList","map","person","i","key","name","number","onClick","id","PersonForm","props","submitHandle","changeNameHandle","changeNumberHandle","newName","newNumber","onSubmit","onChange","value","type","Filter","searchHandle","baseUrl","axios","get","then","response","data","newObject","post","put","url","delete","res","status","Notification","message","color","style","padding","border","className","App","useState","setPersons","setNewName","setNewNumber","search","setSearch","setMessage","setColor","useEffect","module","updateNotification","setTimeout","updatePersons","reset","margin","height","e","filteredArr","filter","a","toUpperCase","includes","target","preventDefault","p","length","window","confirm","error","update","concat","updatedPersons","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f63ba90d.chunk.js","sourcesContent":["import React from 'react'\nconst Persons = ({persons,del}) =>{\n    const personsList = persons.map( (person,i) =><li key = {`${i}-${person.name}`}>{person.name} {person.number} <button key={`btn-${i}`} onClick= {()=> del(person.id)}>delet</button></li>)\n     return(\n      <ul>{personsList}</ul>\n     )\n   }\nexport default Persons","import React from 'react'\n const PersonForm= (props) =>{\n     let {submitHandle,changeNameHandle,changeNumberHandle ,newName ,newNumber }=props\n    return (\n        <form onSubmit={submitHandle}>\n        <div>\n          name: <input onChange = {changeNameHandle} value={newName}/>\n        </div>\n        <div>\n          number: <input onChange={changeNumberHandle} value= {newNumber} type = 'number'  />\n        </div>\n        <div>\n          <button type=\"submit\" >add</button>\n        </div>\n      </form>\n    )\n}\nexport default PersonForm","import React from 'react'\n\nconst Filter =({searchHandle})=> {\n    return (\n    <div> Filter shown with <input  onChange = {searchHandle}/></div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\nconst remove = (id) =>{\n  const url = `${baseUrl}/${id}`\n     return axios.delete(url).then(res=>res.status)\n}\nconst add = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => {\n    return response.data\n  })\n}\nconst update = (id,newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\nreturn request.then(response => {\n    return response.data\n  })\n}\nexport default { \n  getAll, \n  add, \n  update,\n  remove\n}\n","import React from 'react'\nconst Notification = ({ message,color }) => {\n    const style = {\n        padding:'0px',\n        border: `3px solid ${color}`,\n        color:`${color}`\n    }\n    if (message === null) {\n      return null\n    }\n    return (\n      <div className=\"error\" style ={style} >\n        <h2>{message}</h2>\n      </div>\n    )\n  }\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport module from './service/module'\nimport Notification from './components/Notification'\n\nconst App = () => {\n//state\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState([])\n  const [message, setMessage]= useState(null)\n  const [color, setColor]= useState(null)\n\n  useEffect(() => {\n    module.getAll()\n      .then(response => {\n        setPersons(response)\n        setSearch(response)\n      })\n  }, [])\n  let updateNotification = (message,color) =>{\n    setMessage(message)\n    setColor(color)\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000);\n  }\n\n\n  let updatePersons = (persons)=>{\n    setPersons(persons)\n    setSearch(persons)  \n  }\n let reset=() =>{\n  setNewName('')\n  setNewNumber('')\n }\n  \n const del = (id) =>{\n  let target = persons.filter(p=>p.id===id)[0].name\n   module.remove(id).then (res=>{\n    let result = window.confirm(`delete contact ${target}?`)\n    if (result){\n      let updatedPersons = persons.filter( person => person.id!==id)\n      updatePersons(updatedPersons )\n      updateNotification(`Contact ${target} has been removed`,'green')  \n     }\n    }).catch( error=>{\n      updateNotification(`Contact ${target} has already been removed from server`,'red')\n    })\n  }\n  \n  const changeNameHandle = (e) =>{\n    setNewName(e.target.value)\n  }\n  const changeNumberHandle = (e) =>setNewNumber(e.target.value)\n  const searchHandle = (e) =>{\n    let filteredArr = persons.filter( a => a.name.toUpperCase().includes(e.target.value.toUpperCase()))\n    setSearch(filteredArr)\n  }\n  const submitHandle = (e) => {\n    e.preventDefault()\n    let newObject ={name:newName,number:newNumber}\n    // name is case sensitive\n    const isExist = persons.filter( p=> p.name===newObject.name).length!==0\n    if(isExist){\n      if(!window.confirm(`update ${newName}'s number?`)) return\n      const id = persons.filter( p => p.name===newObject.name)[0].id\n      module.update(id,newObject).then (res =>{\n        if(res.error) updateNotification(`${res.error}`,'red')\n        else {\n          let update = persons.map( p=> p.id===res.id? res:p )\n          updatePersons(update)\n          updateNotification(`${newObject.name} updated to the phonebook`,'green')\n          reset()\n        }\n      })\n    }\n    else{\n      module.add(newObject).then( res=>{\n        if(res.error) updateNotification(`${res.error}`,'red')\n        else {\n          updatePersons(persons.concat(res))\n          updateNotification(`${newObject.name} added to the phonebook`,'green')\n          reset()\n        }\n      })\n    }\n  }\n\n\n  return (\n    <div style={{margin:'20px'}}>\n      <div style = {{height:'120px'}}>\n        <h3 >Phonebook </h3>\n        <Notification message={message} color={color}/>\n      </div>\n     \n      <Filter searchHandle = {searchHandle}/>\n      <h3>Add a new</h3>\n      <PersonForm submitHandle ={submitHandle} changeNameHandle= {changeNameHandle} changeNumberHandle = {changeNumberHandle} newName ={newName} newNumber = {newNumber} />\n      <h2>Numbers</h2>\n       <Persons persons={search} del ={del} />\n    </div>\n  )\n}\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}